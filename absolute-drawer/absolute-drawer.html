<link rel="import" href="../../polymer/polymer.html">

<dom-module id="absolute-drawer">
  <template>
    <style>
      :host {
        display: block;
        background-color: var(--absolute-drawer-background-color, #ffffff);
        height: 100%;
        position: absolute;
        top: 0;
        left: -150%;
        width: 100%;
        z-index: 1;
        transition: left .2s ease;
      }

      :host([opened]) {
        left: 0;
      }

      :host([persistent]) {
        position: static;
      }

      :host([no-transition]) {
        transition-property: none;
      }

      .content-container {
        margin-right: 0;
        height: 100%;
        transition: left .2s;
        box-shadow:
          0 12px 16px 1px rgba(0, 0, 0, .14),
          0 4px 22px 3px rgba(0, 0, 0, .12),
          0 6px 7px -4px rgba(0, 0, 0, .4);
      }

      .content-container {
        box-shadow: none;
      }

      @media (min-width: 600px) {
      }
    </style>

    <div
      class="content-container"
      opened$="[[opened]]"
    >
      <slot></slot>
    </div>

  </template>
  <script>
    Polymer({

      is: 'absolute-drawer',

      properties: {
        /**
         * The opened state of the drawer.
         */
        opened: {
          type: Boolean,
          value: false,
          notify: true,
          reflectToAttribute: true
        },

        /**
         * The drawer does not have position absolute.
         */
        persistent: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        }
      },

      observers: [
        'resetLayout(isAttached)'
      ],

      attached: function () {
        this.resetLayout()
      },

      /**
       * Resets the layout.
       *
       * @method resetLayout
       */
      resetLayout: function () {
        this.fire('app-reset-layout')
      }

      /**
       * Fired when the layout of app-drawer has changed.
       *
       * @event app-reset-layout
       */

    })
  </script>
</dom-module>
